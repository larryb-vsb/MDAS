üîç Pre-Deployment Environment Check
=====================================

‚ö†Ô∏è  /home/runner/workspace/server/storage.ts:
   ‚ö†Ô∏è MEDIUM: Table Import Usage
      Description: Direct usage of imported table constants
      Line 505: usersTable
      Line 506: usersTable
      Line 515: usersTable
      Line 516: usersTable
      Line 538: usersTable
      Line 544: usersTable
      Line 553: usersTable
      Line 555: usersTable
      Line 563: usersTable
      Line 564: usersTable
      Line 570: usersTable
      Line 576: usersTable
      Line 586: usersTable
      Line 588: usersTable
      Line 593: usersTable
      Line 594: usersTable
      Line 683: merchantsTable
      Line 684: usersTable
      Line 686: merchantsTable
      Line 690: usersTable
      Line 707: usersTable
      Line 788: merchantsTable
      Line 815: transactionsTable
      Line 841: merchantsTable
      Line 842: merchantsTable
      Line 904: merchantsTable
      Line 906: merchantsTable
      Line 913: merchantsTable
      Line 915: merchantsTable
      Line 1021: merchantsTable
      Line 1022: merchantsTable
      Line 1026: merchantsTable
      Line 1038: transactionsTable
      Line 1043: transactionsTable
      Line 1069: uploadedFilesTable
      Line 1073: uploadedFilesTable
      Line 1154: merchantsTable
      Line 1155: merchantsTable
      Line 1159: merchantsTable
      Line 1210: merchantsTable
      Line 1212: merchantsTable
      Line 1234: merchantsTable
      Line 1239: merchantsTable
      Line 1297: merchantsTable
      Line 1298: transactionsTable
      Line 1299: auditLogsTable
      Line 1313: merchantsTable
      Line 1320: transactionsTable
      Line 1326: transactionsTable
      Line 1330: merchantsTable
      Line 1358: auditLogsTable
      Line 1383: merchantsTable
      Line 1384: transactionsTable
      Line 1385: auditLogsTable
      Line 1390: merchantsTable
      Line 1409: merchantsTable
      Line 1414: transactionsTable
      Line 1419: transactionsTable
      Line 1427: merchantsTable
      Line 1460: auditLogsTable
      Line 1511: uploadedFilesTable
      Line 1533: merchantsTable
      Line 1534: transactionsTable
      Line 1537: merchantsTable
      Line 1575: transactionsTable
      Line 1583: merchantsTable
      Line 1644: transactionsTable
      Line 1645: merchantsTable
      Line 1646: uploadedFilesTable
      Line 1690: transactionsTable
      Line 1691: merchantsTable
      Line 1692: uploadedFilesTable
      Line 1705: transactionsTable
      Line 1706: merchantsTable
      Line 1707: uploadedFilesTable
      Line 1794: transactionsTable
      Line 1795: merchantsTable
      Line 1840: transactionsTable
      Line 1841: merchantsTable
      Line 1897: transactionsTable
      Line 1900: transactionsTable
      Line 1918: transactionsTable
      Line 1919: merchantsTable
      Line 1931: transactionsTable
      Line 1932: merchantsTable
      Line 2012: merchantsTable
      Line 2036: merchantsTable
      Line 2201: merchantsTable
      Line 2204: merchantsTable
      Line 2268: transactionsTable
      Line 2269: merchantsTable
      Line 2275: transactionsTable
      Line 2276: merchantsTable
      Line 2312: transactionsTable
      Line 2316: transactionsTable
      Line 2335: transactionsTable
      Line 2337: transactionsTable
      Line 2384: transactionsTable
      Line 2442: transactionsTable
      Line 2444: transactionsTable
      Line 2581: transactionsTable
      Line 2582: merchantsTable
      Line 2586: transactionsTable
      Line 2593: merchantsTable
      Line 2598: merchantsTable
      Line 2610: merchantsTable
      Line 2643: merchantsTable
      Line 2647: merchantsTable
      Line 2654: merchantsTable
      Line 2658: transactionsTable
      Line 2662: transactionsTable
      Line 2666: transactionsTable
      Line 2711: transactionsTable
      Line 2715: transactionsTable
      Line 2765: uploadedFilesTable
      Line 2790: uploadedFilesTable
      Line 2791: uploadedFilesTable
      Line 2804: uploadedFilesTable
      Line 2841: uploadedFilesTable
      Line 2866: uploadedFilesTable
      Line 2917: uploadedFilesTable
      Line 2937: uploadedFilesTable
      Line 2960: uploadedFilesTable
      Line 3030: uploadedFilesTable
      Line 3050: uploadedFilesTable
      Line 3073: uploadedFilesTable
      Line 3110: uploadedFilesTable
      Line 3133: uploadedFilesTable
      Line 3187: uploadedFilesTable
      Line 3230: uploadedFilesTable
      Line 3250: uploadedFilesTable
      Line 3272: uploadedFilesTable
      Line 3315: uploadedFilesTable
      Line 3336: uploadedFilesTable
      Line 3585: merchantsTable
      Line 3586: merchantsTable
      Line 3626: merchantsTable
      Line 3633: merchantsTable
      Line 3651: merchantsTable
      Line 3653: merchantsTable
      Line 3881: merchantsTable
      Line 3884: merchantsTable
      Line 3901: merchantsTable
      Line 3932: merchantsTable
      Line 3952: merchantsTable
      Line 3959: merchantsTable
      Line 4233: merchantsTable
      Line 4234: merchantsTable
      Line 4378: merchantsTable
      Line 4410: merchantsTable
      Line 4437: transactionsTable
      Line 4460: transactionsTable
      Line 4461: transactionsTable
      Line 4484: transactionsTable
      Line 4490: transactionsTable
      Line 4560: merchantsTable
      Line 4563: merchantsTable
      Line 4571: merchantsTable
      Line 4580: merchantsTable
      Line 4590: merchantsTable
      Line 4616: transactionsTable
      Line 4620: transactionsTable
      Line 4639: transactionsTable
      Line 4642: transactionsTable
      Line 4665: transactionsTable
      Line 4703: transactionsTable
      Line 5049: merchantsTable
      Line 5052: merchantsTable
      Line 5139: merchantsTable
      Line 5142: merchantsTable
      Line 5153: merchantsTable
      Line 5182: merchantsTable
      Line 5231: merchantsTable
      Line 5272: merchantsTable
      Line 5302: merchantsTable
      Line 5305: merchantsTable
      Line 5324: transactionsTable
      Line 5334: transactionsTable
      Line 5368: transactionsTable
      Line 5393: transactionsTable
      Line 5675: terminalsTable
      Line 5678: terminalsTable
      Line 5685: terminalsTable
      Line 5707: terminalsTable
      Line 5761: transactionsTable
      Line 5764: transactionsTable
      Line 5800: merchantsTable
      Line 5803: merchantsTable
      Line 6342: auditLogsTable
      Line 6345: auditLogsTable
      Line 6493: terminalsTable
      Line 6495: terminalsTable
      Line 6502: terminalsTable
      Line 6504: terminalsTable
      Line 6511: terminalsTable
      Line 6513: terminalsTable
      Line 6519: terminalsTable
      Line 6527: terminalsTable
      Line 6529: terminalsTable
      Line 6535: terminalsTable
      Line 6535: terminalsTable
      Line 6639: tddfRecordsTable
      Line 6643: tddfRecordsTable
      Line 6647: tddfRecordsTable
      Line 6654: tddfRecordsTable
      Line 6657: tddfRecordsTable
      Line 6660: tddfRecordsTable
      Line 6663: tddfRecordsTable
      Line 6666: tddfRecordsTable
      Line 6669: tddfRecordsTable
      Line 6672: tddfRecordsTable
      Line 6675: tddfRecordsTable
      Line 6679: tddfRecordsTable
      Line 6683: tddfRecordsTable
      Line 6693: tddfRecordsTable
      Line 6694: tddfRecordsTable
      Line 6695: tddfRecordsTable
      Line 6708: tddfRecordsTable
      Line 6713: tddfRecordsTable
      Line 6740: tddfRecordsTable
      Line 6773: tddfRecordsTable
      Line 6834: tddfRecordsTable
      Line 6837: tddfRecordsTable
      Line 6852: tddfRecordsTable
      Line 6863: tddfRecordsTable
      Line 6951: tddfRecordsTable
      Line 7052: tddfRecordsTable
      Line 7095: tddfRecordsTable
      Line 7158: tddfRecordsTable
      Line 7160: tddfRecordsTable
      Line 7168: tddfRecordsTable
      Line 7209: tddfRecordsTable
      Line 7217: tddfRecordsTable
      Line 7241: tddfRecordsTable
      Line 7274: tddfRecordsTable
      Line 7276: tddfRecordsTable
      Line 7285: tddfRecordsTable
      Line 7323: tddfRecordsTable
      Line 7325: tddfRecordsTable
      Line 7337: tddfRecordsTable
      Line 7488: tddfRecordsTable
      Line 7489: tddfRecordsTable
      Line 9044: tddfRecordsTable
      Line 9079: tddfRecordsTable
      Line 9098: tddfRecordsTable
      Line 9111: tddfRecordsTable
      Line 9138: tddfRecordsTable
      Line 12137: tddfRecordsTable
      Line 12174: tddfRecordsTable
      Line 12319: merchantsTable
      Line 12326: merchantsTable
      Line 12360: merchantsTable
   ‚ö†Ô∏è MEDIUM: Missing getTableName Usage
      Description: Database operations that might need environment awareness
      Line 610: db.select().from(
      Line 614: db.select().from(
      Line 619: db.select().from(
      Line 648: db.select().from(
      Line 12466: db.select().from(
      Line 12470: db.select().from(

‚ö†Ô∏è  /home/runner/workspace/server/routes.ts:
   üö® HIGH: Drizzle ORM Hardcoded Tables
      Description: Direct table imports from schema used in queries
      Line 1531: .from(transactionsTable
      Line 1540: .from(merchantsTable
      Line 3629: .from(merchantsTable
      Line 3648: .from(auditLogsTable
      Line 3725: .from(systemLogsTable
      Line 5306: .from(tddfRecordsTable
      Line 5502: .from(tddfRecordsTable
      Line 5546: .from(tddfRecordsTable
      Line 6229: .from(tddfRecordsTable
      Line 6260: .from(tddfRecordsTable
   üö® HIGH: Raw SQL Without Template Variables
      Description: Raw SQL queries without environment-aware table names
      Line 2833: FROM uploaded_files 
      Line 3701: FROM uploaded_files 
   ‚ö†Ô∏è MEDIUM: Table Import Usage
      Description: Direct usage of imported table constants
      Line 856: uploadedFilesTable
      Line 857: transactionsTable
      Line 858: tddfRecordsTable
      Line 859: tddfRawImportTable
      Line 861: uploadedFilesTable
      Line 861: transactionsTable
      Line 861: tddfRecordsTable
      Line 874: uploadedFilesTable
      Line 882: transactionsTable
      Line 889: tddfRecordsTable
      Line 900: tddfRecordsTable
      Line 907: tddfRecordsTable
      Line 913: tddfRawImportTable
      Line 920: tddfRawImportTable
      Line 921: tddfRawImportTable
      Line 1106: merchantsTable
      Line 1107: transactionsTable
      Line 1108: uploadedFilesTable
      Line 1529: merchantsTable
      Line 1531: transactionsTable
      Line 1532: transactionsTable
      Line 1532: merchantsTable
      Line 1533: transactionsTable
      Line 1537: merchantsTable
      Line 1540: merchantsTable
      Line 1541: merchantsTable
      Line 1542: merchantsTable
      Line 1803: uploadedFilesTable
      Line 1827: uploadedFilesTable
      Line 1840: uploadedFilesTable
      Line 1873: uploadedFilesTable
      Line 1930: uploadedFilesTable
      Line 1945: uploadedFilesTable
      Line 2010: uploadedFilesTable
      Line 2012: uploadedFilesTable
      Line 2017: uploadedFilesTable
      Line 2044: uploadedFilesTable
      Line 2096: uploadedFilesTable
      Line 2111: uploadedFilesTable
      Line 2238: uploadedFilesTable
      Line 2243: uploadedFilesTable
      Line 3629: merchantsTable
      Line 3629: merchantsTable
      Line 3644: auditLogsTable
      Line 3648: auditLogsTable
      Line 3648: auditLogsTable
      Line 3721: systemLogsTable
      Line 3725: systemLogsTable
      Line 3725: systemLogsTable
      Line 4217: systemLogsTable
      Line 4248: systemLogsTable
      Line 4277: systemLogsTable
      Line 4621: uploadedFilesTable
      Line 4625: uploadedFilesTable
      Line 4669: tddfRecordsTable
      Line 4793: tddfRecordsTable
      Line 4807: uploadedFilesTable
      Line 4858: uploadedFilesTable
      Line 4861: uploadedFilesTable
      Line 4864: uploadedFilesTable
      Line 4896: uploadedFilesTable
      Line 4932: uploadedFilesTable
      Line 5185: tddfRecordsTable
      Line 5194: tddfRecordsTable
      Line 5216: tddfRecordsTable
      Line 5225: tddfRecordsTable
      Line 5306: tddfRecordsTable
      Line 5307: tddfRecordsTable
      Line 5388: tddfRecordsTable
      Line 5389: terminalsTable
      Line 5391: tddfRecordsTable
      Line 5391: terminalsTable
      Line 5404: tddfRecordsTable
      Line 5408: terminalsTable
      Line 5444: tddfRecordsTable
      Line 5459: tddfRecordsTable
      Line 5502: tddfRecordsTable
      Line 5503: tddfRecordsTable
      Line 5504: tddfRecordsTable
      Line 5546: tddfRecordsTable
      Line 5547: tddfRecordsTable
      Line 5548: tddfRecordsTable
      Line 5853: tddfRawImportTable
      Line 6229: tddfRecordsTable
      Line 6230: tddfRecordsTable
      Line 6237: tddfRecordsTable
      Line 6238: tddfRecordsTable
      Line 6260: tddfRecordsTable
      Line 6265: tddfRecordsTable
      Line 6268: tddfRecordsTable
      Line 6271: tddfRecordsTable
      Line 6274: tddfRecordsTable
      Line 6281: tddfRecordsTable
   ‚ö†Ô∏è MEDIUM: Missing getTableName Usage
      Description: Database operations that might need environment awareness
      Line 1264: db.select().from(
      Line 3629: db.select().from(
      Line 3648: db.select().from(
      Line 3725: db.select().from(
      Line 6260: db.select().from(

üìä Summary
===========
Total issues found: 6
High severity issues: 2
Safe environment patterns: 286

üö® DEPLOYMENT BLOCKED
High severity environment issues must be fixed before deployment

Fix checklist:
1. Replace hardcoded table imports with getTableName() calls
2. Add @ENVIRONMENT-CRITICAL tags to environment-sensitive code
3. Add environment logging to database operations
4. Test in both development and production environments

-- Add all 51 MCC TSYS Config fields to production merchants table
ALTER TABLE merchants 
  ADD COLUMN IF NOT EXISTS bank_number text,
  ADD COLUMN IF NOT EXISTS group_level_1 text,
  ADD COLUMN IF NOT EXISTS association_number text,
  ADD COLUMN IF NOT EXISTS account_number text,
  ADD COLUMN IF NOT EXISTS association_name text,
  ADD COLUMN IF NOT EXISTS group_level_1_name text,
  ADD COLUMN IF NOT EXISTS sic text,
  ADD COLUMN IF NOT EXISTS class text,
  ADD COLUMN IF NOT EXISTS dba_name text,
  ADD COLUMN IF NOT EXISTS dba_address_city text,
  ADD COLUMN IF NOT EXISTS dba_address_state text,
  ADD COLUMN IF NOT EXISTS dba_zip text,
  ADD COLUMN IF NOT EXISTS phone_1 text,
  ADD COLUMN IF NOT EXISTS phone_2 text,
  ADD COLUMN IF NOT EXISTS business_license text,
  ADD COLUMN IF NOT EXISTS bank_officer_1 text,
  ADD COLUMN IF NOT EXISTS bank_officer_2 text,
  ADD COLUMN IF NOT EXISTS federal_tax_id text,
  ADD COLUMN IF NOT EXISTS state_tax_id text,
  ADD COLUMN IF NOT EXISTS merchant_type_field text,
  ADD COLUMN IF NOT EXISTS owner_name text,
  ADD COLUMN IF NOT EXISTS manager_name text,
  ADD COLUMN IF NOT EXISTS last_activity_date timestamp,
  ADD COLUMN IF NOT EXISTS daily_fee_indicator text,
  ADD COLUMN IF NOT EXISTS mc_reg_id text,
  ADD COLUMN IF NOT EXISTS customer_service_number text,
  ADD COLUMN IF NOT EXISTS update_date_time timestamp,
  ADD COLUMN IF NOT EXISTS status_change_date timestamp,
  ADD COLUMN IF NOT EXISTS discover_map_flag text,
  ADD COLUMN IF NOT EXISTS amex_optblue_flag text,
  ADD COLUMN IF NOT EXISTS visa_descriptor text,
  ADD COLUMN IF NOT EXISTS mc_descriptor text,
  ADD COLUMN IF NOT EXISTS url text,
  ADD COLUMN IF NOT EXISTS close_date timestamp,
  ADD COLUMN IF NOT EXISTS date_of_last_auth timestamp,
  ADD COLUMN IF NOT EXISTS duns_number text,
  ADD COLUMN IF NOT EXISTS print_statement_indicator text,
  ADD COLUMN IF NOT EXISTS visa_bin text,
  ADD COLUMN IF NOT EXISTS mc_bin text,
  ADD COLUMN IF NOT EXISTS mc_ica text,
  ADD COLUMN IF NOT EXISTS amex_cap_id text,
  ADD COLUMN IF NOT EXISTS discover_aiid text,
  ADD COLUMN IF NOT EXISTS dda_number text,
  ADD COLUMN IF NOT EXISTS transit_routing_number text,
  ADD COLUMN IF NOT EXISTS exposure_amount text,
  ADD COLUMN IF NOT EXISTS merchant_activation_date timestamp,
  ADD COLUMN IF NOT EXISTS date_of_first_deposit timestamp,
  ADD COLUMN IF NOT EXISTS date_of_last_deposit timestamp,
  ADD COLUMN IF NOT EXISTS trans_destination text,
  ADD COLUMN IF NOT EXISTS merchant_email_address text,
  ADD COLUMN IF NOT EXISTS chargeback_email_address text;

-- Add indexes for date fields to improve query performance
CREATE INDEX IF NOT EXISTS merchants_last_activity_date_idx ON merchants(last_activity_date);
CREATE INDEX IF NOT EXISTS merchants_merchant_activation_date_idx ON merchants(merchant_activation_date);
CREATE INDEX IF NOT EXISTS merchants_date_of_first_deposit_idx ON merchants(date_of_first_deposit);
CREATE INDEX IF NOT EXISTS merchants_date_of_last_deposit_idx ON merchants(date_of_last_deposit);
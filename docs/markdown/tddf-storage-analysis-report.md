# TDDF Storage Analysis Report
*Generated: July 30, 2025*

## Executive Summary

Your TDDF file storage contains **1,264 TDDF files** with a total of **4,478,637 lines** of transaction data. The vast majority (99.8%) have been successfully processed and encoded into JSONB format for advanced querying.

---

## üìä File Distribution by Processing Phase

| Phase | Files | Lines | Avg Lines/File | Size Range | Status |
|-------|-------|-------|----------------|------------|--------|
| **Encoded** | 1,261 | 4,448,014 | 3,527 | 2-66,601 lines | ‚úÖ Complete |
| **Identified** | 3 | 30,623 | 10,208 | 841-17,747 lines | üîÑ Ready for encoding |
| **Total** | **1,264** | **4,478,637** | **3,543** | **2-66,601 lines** | **99.8% Complete** |

---

## üèÜ Top 10 Largest TDDF Files

| Filename | Lines | Size (MB) | Date | Phase |
|----------|-------|-----------|------|-------|
| VERMNTSB.6759_TDDF_2400_07282025_001425.TSYSO | 66,601 | 44.6 | 2025-07-30 | Encoded |
| VERMNTSB.6759_TDDF_2400_01062025_001400.TSYSO | 42,692 | 28.6 | 2025-07-30 | Encoded |
| VERMNTSB.6759_TDDF_2400_10142024_001416.TSYSO | 41,208 | 27.6 | 2025-07-30 | Encoded |
| VERMNTSB.6759_TDDF_2400_10072024_001431.TSYSO | 41,129 | 27.5 | 2025-07-30 | Encoded |
| VERMNTSB.6759_TDDF_2400_10212024_001322.TSYSO | 40,613 | 27.2 | 2025-07-30 | Encoded |
| VERMNTSB.6759_TDDF_2400_09022024_001410.TSYSO | 39,909 | 26.7 | 2025-07-30 | Encoded |
| VERMNTSB.6759_TDDF_2400_08262024_001333.TSYSO | 39,353 | 26.3 | 2025-07-30 | Encoded |
| VERMNTSB.6759_TDDF_2400_08192024_001311.TSYSO | 38,418 | 25.7 | 2025-07-30 | Encoded |
| VERMNTSB.6759_TDDF_2400_09162024_001430.TSYSO | 38,210 | 25.6 | 2025-07-30 | Encoded |
| VERMNTSB.6759_TDDF_2400_09232024_001311.TSYSO | 38,069 | 25.5 | 2025-07-30 | Encoded |

---

## üìã TDDF Record Type Breakdown
*From 4.3M+ encoded JSONB records*

| Record Type | Count | Percentage | Description |
|-------------|-------|------------|-------------|
| **G2** | 1,691,789 | 39.5% | Merchant Summary Records |
| **DT** | 1,680,309 | 39.2% | Detail Transaction Records |
| **E1** | 578,736 | 13.5% | Electronic Records |
| **BH** | 231,438 | 5.4% | Batch Header Records |
| **P1** | 83,701 | 2.0% | Purchasing Card Level 1 |
| **DR** | 71,793 | 1.7% | Deposit Records |
| **AD** | 7,543 | 0.2% | Adjustment Records |
| **P2** | 132 | <0.1% | Purchasing Card Level 2 |
| **Total** | **4,345,441** | **100%** | **All Record Types** |

---

## üíæ Storage Summary

- **Total Storage Used**: ~2.98 GB (3,122,505,724 bytes)
- **Average File Size**: 2.4 MB
- **Largest File**: 44.6 MB (66,601 lines)
- **Smallest File**: <1 KB (2 lines)
- **Files with Storage Keys**: 0 (files processed through pipeline)
- **Files in JSONB Database**: 4.3M+ records available for querying

---

## üîß Processing Status

### ‚úÖ Successfully Processed (1,261 files)
- All files have been encoded to JSONB format
- Records available in `dev_tddf_jsonb` table
- Full text search and structured querying enabled
- Record type analysis complete

### üîÑ Pending Processing (3 files)
- Files in "identified" phase ready for encoding
- Total pending lines: 30,623
- Can be processed through manual encoding workflow

---

## üìà Data Quality Insights

1. **Consistency**: File naming follows standard TSYS TDDF pattern
2. **Size Distribution**: Wide range from 2 lines to 66,601 lines
3. **Processing Success**: 99.8% completion rate
4. **Record Types**: Comprehensive coverage of all TDDF record types
5. **Data Integrity**: 4.3M+ records successfully parsed and structured

---

## üöÄ Recommendations

1. **Complete Processing**: Process the remaining 3 identified files through manual encoding
2. **Storage Optimization**: Consider archiving older encoded files if storage space needed
3. **Query Performance**: Use JSONB database for advanced analytics and reporting
4. **Monitoring**: Set up alerts for large file uploads (>40MB files require special handling)

---

*Report generated by TDDF Storage Analysis System*
*Data current as of: July 30, 2025 10:47 PM CST*